<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
      <title>Thymio Blockly</title>
      <script src="../blockly_uncompressed.js"></script>
      <script src="../overrides/subroutines.js"></script>
      <script src="../overrides/arrayvariables.js"></script>
      <script src="../generators/aesl.js"></script>
      <script src="../generators/aesl/logic.js"></script>
      <script src="../generators/aesl/math.js"></script>
      <script src="../generators/aesl/thymio.js"></script>
      <script src="../generators/aesl/loops.js"></script>
      <script src="../generators/aesl/variables.js"></script>
      <script src="../generators/aesl/procedures.js"></script>
      <script src="../msg/messages.js"></script>
      <script src="../blocks/logic.js"></script>
      <script src="../blocks/loops.js"></script>
      <script src="../blocks/math.js"></script>
      <script src="../blocks/text.js"></script>
      <script src="../blocks/lists.js"></script>
      <script src="../blocks/colour.js"></script>
      <script src="../blocks/variables.js"></script>
      <script src="../blocks/procedures.js"></script>
      <script src="../blocks/thymio.js"></script>
      <script src="../overrides/blockcolors.js"></script>
      <script src="js/thymio_blockly.js"></script>
      <link rel="stylesheet" type="text/css" href="css/style.css" />
    </head>
    <body onload="start()">
    <!-- #overlay style.css:207 display:none can be changed in display:block with javascript to show it when needed -->
      <div id="overlay">
        <div id="overlay-msg">
          <img src="../media/close.png" class="close-button">
          <h1>Cannot find Thymio !</h1>
          <div id="overlay-msg-content">
          <ul>
            <li>
              <p> <span>1.</span>Connect Thymio to your computer with the USB cable or the Wireless dongle.</p>
              <img src="../media/dongle-icon.png" class="warnIcon">
            </li>
            <li>
              <span>2.</span> Make sure that Thymio Web Bridge is active.
              <img src="../media/web-bridge-icon.png" class="warnIcon">
            </li>
          </ul>
          </div>
        </div>
      </div>
    <!-- end overlay -->
      <div id="header">
        <div id="logo-zone">
          <img id="thymio-logo" src="../media/logo-thymio.png">
            <h1 id="logo-text">Thymio Blockly</h1>
          </div>
          <!-- right button menu -->
          <div id="btn-menu">
            <input type="hidden" id="fileLoaded">
              <div class="input-file">
                <label for="new-doc">
                  <img class="top-option-btn" src="../media/new-doc.png" alt="New" title="New"/>
                </label>
                <input id="new-doc" type="image" onclick="newDoc()"/>
              </div>
              <div class="input-file">
                <label for="open-doc">
                  <img class="top-option-btn" src="../media/open-doc.png" alt="Open" title="Open"/>
                </label>
                <input type="file" id="open-doc"/>
              </div>
              <div class="input-file">
                <label for="save-doc">
                  <img class="top-option-btn" src="../media/save-doc.png" alt="Save" title="Save"/>
                </label>
                <input type="image" id="save-doc" onclick="saveFile()"/>
              </div>
              <div class="input-file">
                <!-- input type button sample -->
                <label for="play">
                  <img class="top-option-btn" src="../media/play-btn.png" alt="Load & Run" title="Load & Run"/>
                </label>
                <input type="button" id="play" onclick="run()"/>
              </div>
              <div class="input-file">
                <label for="stop">
                  <img class="top-option-btn" src="../media/stop-btn.png" alt="New" title="Stop"/>
                </label>
                <input type="button" id="stop" onclick="stop()"/>
              </div>
              <!-- end right button menu -->
              <a id="info-btn" href="https://www.thymio.org/en:blocklyprogramming" target="_blank">
                <img src="../media/info-btn.png" alt="Help" title="Help"/>
              </a>
              <ul class="lang">
              	<a href="thymio_blockly.html">
                  <li>EN</li>
                </a>
                <a href="thymio_blockly.fr.html">
                  <li>FR</li>
                </a>
                <a href="thymio_blockly.it.html">
                  <li>IT</li>
                </a>
                <a href="thymio_blockly.de.html">
                  <li>DE</li>
                </a>
                <a href="thymio_blockly.es.html">
                  <li>ES</li>
                </a>
              </ul>
            </div>
          </div>
          <div id="blocklyDiv"></div>
          <xml id="toolbox" style="display: none">
            <category name="Events" colour="10">
              <block type="thymio_event_button"></block>
              <block type="thymio_event_prox"></block>
              <block type="thymio_event_prox_ground"></block>
              <block type="thymio_actuator_timer">
                <field name="VARIABLE">timer.period[0]</field>
                <value name="VALUE">
                  <shadow type="math_number">
                    <field name="NUM">1000</field>
                  </shadow>
                </value>
              </block>
              <block type="thymio_event_timer">
                <field name="EVENT">timer0</field>
              </block>
              <block type="thymio_actuator_mic">
                <value name="VALUE">
                  <shadow type="math_number">
                    <field name="NUM">40</field>
                  </shadow>
                </value>
              </block>
              <block type="thymio_event_sound">
                <field name="EVENT">mic</field>
              </block>
              <block type="thymio_event_sound">
                <field name="EVENT">sound.finished</field>
              </block>
              <block type="thymio_event_shock"></block>
              <block type="thymio_event_receive">
                <field name="EVENT">prox.comm</field>
              </block>
              <block type="thymio_event_receive">
                <field name="EVENT">rc5</field>
              </block>
              <block type="thymio_event_update">
                <field name="EVENT">motor</field>
              </block>
              <block type="thymio_event_update">
                <field name="EVENT">temperature</field>
              </block>
              <block type="thymio_event_update">
                <field name="EVENT">acc</field>
              </block>
              <block type="thymio_event_update">
                <field name="EVENT">buttons</field>
              </block>
              <block type="thymio_event_update">
                <field name="EVENT">prox</field>
              </block>
            </category>
            <category name="Actuators" colour="60">
              <block type="thymio_motors_stop"></block>
              <block type="thymio_motors_start">
                <value name="SPEED">
                  <shadow type="math_number">
                    <field name="NUM">300</field>
                  </shadow>
                </value>
              </block>
              <block type="thymio_motors_start">
                <field name="COMMAND">TURNLEFT</field>
                <value name="SPEED">
                  <shadow type="math_number">
                    <field name="NUM">300</field>
                  </shadow>
                </value>
              </block>
              <block type="thymio_motors_start">
                <field name="COMMAND">SPINCCW</field>
                <value name="SPEED">
                  <shadow type="math_number">
                    <field name="NUM">300</field>
                  </shadow>
                </value>
              </block>
              <block type="thymio_actuator_motor">
                <value name="VALUE">
                  <shadow type="math_number">
                    <field name="NUM">0</field>
                  </shadow>
                </value>
              </block>
              <block type="thymio_sound_stop"></block>
              <block type="thymio_sound_system"></block>
              <block type="thymio_sound_note">
                <value name="FREQ">
                  <shadow type="math_number">
                    <field name="NUM">440</field>
                  </shadow>
                </value>
                <value name="DURATION">
                  <shadow type="math_number">
                    <field name="NUM">10</field>
                  </shadow>
                </value>
              </block>
              <block type="thymio_communication"></block>
              <block type="thymio_actuator_comm">
                <value name="VALUE">
                  <shadow type="math_number">
                    <field name="NUM">0</field>
                  </shadow>
                </value>
              </block>
            </category>
            <category name="LEDs" colour="160">
              <block type="thymio_led_off"></block>
              <block type="thymio_led"></block>
              <block type="thymio_led_rgb">
                <value name="RED">
                  <shadow type="math_number">
                    <field name="NUM">32</field>
                  </shadow>
                </value>
                <value name="GREEN">
                  <shadow type="math_number">
                    <field name="NUM">32</field>
                  </shadow>
                </value>
                <value name="BLUE">
                  <shadow type="math_number">
                    <field name="NUM">32</field>
                  </shadow>
                </value>
              </block>
              <block type="thymio_led_circle">
                <value name="CIRCLE0">
                  <shadow type="math_number">
                    <field name="NUM">32</field>
                  </shadow>
                </value>
                <value name="CIRCLE1">
                  <shadow type="math_number">
                    <field name="NUM">32</field>
                  </shadow>
                </value>
                <value name="CIRCLE2">
                  <shadow type="math_number">
                    <field name="NUM">32</field>
                  </shadow>
                </value>
                <value name="CIRCLE3">
                  <shadow type="math_number">
                    <field name="NUM">32</field>
                  </shadow>
                </value>
                <value name="CIRCLE4">
                  <shadow type="math_number">
                    <field name="NUM">32</field>
                  </shadow>
                </value>
                <value name="CIRCLE5">
                  <shadow type="math_number">
                    <field name="NUM">32</field>
                  </shadow>
                </value>
                <value name="CIRCLE6">
                  <shadow type="math_number">
                    <field name="NUM">32</field>
                  </shadow>
                </value>
                <value name="CIRCLE7">
                  <shadow type="math_number">
                    <field name="NUM">32</field>
                  </shadow>
                </value>
              </block>
              <block type="thymio_led_prox">
                <value name="PROX0">
                  <shadow type="math_number">
                    <field name="NUM">32</field>
                  </shadow>
                </value>
                <value name="PROX1">
                  <shadow type="math_number">
                    <field name="NUM">32</field>
                  </shadow>
                </value>
                <value name="PROX2">
                  <shadow type="math_number">
                    <field name="NUM">32</field>
                  </shadow>
                </value>
                <value name="PROX3">
                  <shadow type="math_number">
                    <field name="NUM">32</field>
                  </shadow>
                </value>
                <value name="PROX4">
                  <shadow type="math_number">
                    <field name="NUM">32</field>
                  </shadow>
                </value>
                <value name="PROX5">
                  <shadow type="math_number">
                    <field name="NUM">32</field>
                  </shadow>
                </value>
                <value name="PROX6">
                  <shadow type="math_number">
                    <field name="NUM">32</field>
                  </shadow>
                </value>
                <value name="PROX7">
                  <shadow type="math_number">
                    <field name="NUM">32</field>
                  </shadow>
                </value>
              </block>
              <block type="thymio_led_prox_ground">
                <value name="PROX0">
                  <shadow type="math_number">
                    <field name="NUM">32</field>
                  </shadow>
                </value>
                <value name="PROX1">
                  <shadow type="math_number">
                    <field name="NUM">32</field>
                  </shadow>
                </value>
              </block>
              <block type="thymio_led_button">
                <value name="FORWARD">
                  <shadow type="math_number">
                    <field name="NUM">32</field>
                  </shadow>
                </value>
                <value name="RIGHT">
                  <shadow type="math_number">
                    <field name="NUM">32</field>
                  </shadow>
                </value>
                <value name="BACKWARD">
                  <shadow type="math_number">
                    <field name="NUM">32</field>
                  </shadow>
                </value>
                <value name="LEFT">
                  <shadow type="math_number">
                    <field name="NUM">32</field>
                  </shadow>
                </value>
              </block>
              <block type="thymio_led_temperature">
                <value name="RED">
                  <shadow type="math_number">
                    <field name="NUM">32</field>
                  </shadow>
                </value>
                <value name="BLUE">
                  <shadow type="math_number">
                    <field name="NUM">32</field>
                  </shadow>
                </value>
              </block>
              <block type="thymio_led_rc_sound">
                <value name="INTENSITY">
                  <shadow type="math_number">
                    <field name="NUM">32</field>
                  </shadow>
                </value>
              </block>
            </category>
            <category name="Sensors" colour="230">
              <block type="thymio_button_pressed"></block>
              <block type="thymio_prox_check"></block>
              <block type="thymio_prox_ground_check"></block>
              <block type="thymio_sensor_prox"></block>
              <block type="thymio_sensor_motor">
                <field name="SENSOR">motor.left.speed</field>
              </block>
              <block type="thymio_sensor_acc">
                <field name="SENSOR">acc[0]</field>
              </block>
              <block type="thymio_sensor_temperature">
                <field name="SENSOR">temperature</field>
              </block>
              <block type="thymio_sensor_mic">
                <field name="SENSOR">mic.intensity</field>
              </block>
              <block type="thymio_sensor_comm">
                <field name="SENSOR">prox.comm.rx</field>
              </block>
              <block type="thymio_sensor_rc">
                <field name="SENSOR">rc5.address</field>
              </block>
            </category>
            <sep></sep>
            <category name="Logic" colour="210">
              <block type="controls_if">
                <value name="IF0">
                  <shadow type="logic_boolean">
                    <field name="BOOL">TRUE</field>
                  </shadow>
                </value>
              </block>
              <block type="thymio_when">
                <value name="WHEN">
                  <shadow type="logic_boolean">
                    <field name="BOOL">TRUE</field>
                  </shadow>
                </value>
              </block>
              <block type="thymio_compare">
                <value name="A">
                  <shadow type="math_number">
                    <field name="NUM">0</field>
                  </shadow>
                </value>
                <value name="B">
                  <shadow type="math_number">
                    <field name="NUM">0</field>
                  </shadow>
                </value>
              </block>
              <block type="logic_operation">
                <value name="A">
                  <shadow type="logic_boolean">
                    <field name="BOOL">TRUE</field>
                  </shadow>
                </value>
                <value name="B">
                  <shadow type="logic_boolean">
                    <field name="BOOL">TRUE</field>
                  </shadow>
                </value>
              </block>
              <block type="logic_negate">
                <value name="BOOL">
                  <shadow type="logic_boolean">
                    <field name="BOOL">TRUE</field>
                  </shadow>
                </value>
              </block>
              <block type="logic_boolean"></block>
            </category>
            <category name="Loops" colour="120">
              <block type="controls_repeat">
                <field name="TIMES">10</field>
              </block>
              <block type="controls_whileUntil">
                <value name="BOOL">
                  <shadow type="logic_boolean">
                    <field name="BOOL">TRUE</field>
                  </shadow>
                </value>
              </block>
              <block type="thymio_for">
                <field name="FROM">0</field>
                <field name="TO">9</field>
              </block>
            </category>
            <category name="Math" colour="230">
              <block type="math_number"></block>
              <block type="thymio_arithmetic">
                <value name="A">
                  <shadow type="math_number">
                    <field name="NUM">1</field>
                  </shadow>
                </value>
                <value name="B">
                  <shadow type="math_number">
                    <field name="NUM">1</field>
                  </shadow>
                </value>
              </block>
              <block type="thymio_unary"></block>
              <block type="thymio_unary">
                <field name="OP">abs</field>
              </block>
              <block type="thymio_binary">
                <value name="A">
                  <shadow type="math_number">
                    <field name="NUM">1</field>
                  </shadow>
                </value>
                <value name="B">
                  <shadow type="math_number">
                    <field name="NUM">1</field>
                  </shadow>
                </value>
              </block>
              <block type="thymio_unary">
                <field name="OP">~</field>
              </block>
            </category>
            <sep></sep>
            <category name="Variables" colour="330" custom="VARIABLE"></category>
            <category name="Subroutines" colour="290" custom="PROCEDURE"></category>
        	</xml>
        <div id="aseba-zone">
            <textarea id="importExport" style="/*width: 26%; */ height: 36em" readonly="readonly"></textarea>
            <div id="showFileName"></div>
        </div>
    </body>
</html>
